<!DOCTYPE html>
<html>
	<head>
		<title>Rock Paper Scissors</title>
	</head>
	<body>
		<script>
			function computerPlay(){
				const options = ['rock', 'paper', 'scissors'];
				let i  = Math.floor(Math.random() * 3);
				let play = options[i].toString();
				return play;
		}

			function playRound(playerSelection, computerSelection){
				const player = playerSelection.toLowerCase();
				
				if(player === 'rock') {
					if(computerSelection === 'rock') {
						return "Tie"
					} else if (computerSelection === 'paper') {
						return "Loss"
					} else {
						return "Win"
					}
				} else if(player === 'paper') {
					if(computerSelection === 'rock') {
						return "Win"
					} else if (computerSelection === 'paper') {
						return "Tie"
					} else {
						return "Loss"
					}
				} else if(player === 'scissors') {
					if(computerSelection === 'rock') {
						return "Loss"
					} else if(computerSelection === 'paper') {
						return "Win"
					} else {
						return "Tie"
					}
				} else {
					return 'Error: You should choose between "Rock", "Papers" or "Scissors".'
				}
			}

			function game() {
				let playerScore = 0;
				let computerScore = 0;

				for (let i = 0; i < 5; i++) {
					const playerSelection = prompt("Choose between 'Rock', 'Paper' or 'Scissors': ");
					const computerSelection = computerPlay();
					console.log(playerSelection);
					console.log(computerSelection);
					let round = playRound(playerSelection, computerSelection);
					console.log(round);
					if (round === 'Win') {
						playerScore += 1;
					} else if (round === 'Loss') {
						computerScore += 1;
					} else {
						continue;
					}
				}

				console.log(playerScore);
				console.log(computerScore);

				if (playerScore > computerScore) {
					console.log(`You Won! The score was ${playerScore} x ${computerScore}`);
				} else if ( computerScore > playerScore) {
					console.log(`You Lose! The score was ${playerScore} x ${computerScore}`);
				} else {
					console.log("It's a Tie!");
				}
			}

			game();
		</script>
	</body>
</html>
